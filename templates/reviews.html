{% extends "index.html" %}
{% set active_page = "reviews" %}
{% block content %}

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- Firebase UI -->
    <script src = "https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
        const firebaseConfig = {
          apiKey: "AIzaSyDQlIGXWIpmWdIsMAkN5rPwLcMn-qYj4gQ",
          authDomain: "advdev-mhg01.firebaseapp.com",
          projectId: "advdev-mhg01",
          storageBucket: "advdev-mhg01.appspot.com",
          messagingSenderId: "1066735832819",
          appId: "1:1066735832819:web:1a2701ad5db46808cc7186",
          measurementId: "G-LT8S234XKF"
        };
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
    </script>
    
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.css" />
    <script src="/static/scripts/reviews.js"></script>
</head>

<body>
    <h1>Game Reviews</h1>

    <h3>Please review a game. It can be either positive or negative!</h3>

    <form class="form-inline">
        <div class="form-group">
            <label class="sr-only" for="gameInput">Game</label>
            <input type="text" name="game_name" class="form-control" id="game_name" placeholder="Game">
        </div>
    </br>    
        <div class="form-group">
            <label class="sr-only" for="authorInput">Author</label>
            <input type="text" name="author" class="form-control" id="author" placeholder="Your Username">
        </div>
    </br>
        <div class="form-group">
            <label class="sr-only" for="titleInput">Title of Review</label>
            <input type="text" name="title" class="form-control" id="title" placeholder="Title of Review">
        </div>
    </br>
        <div class="form-group">
            <label class="sr-only" for="contentInput">Your Review</label>
            <textarea id="content" name="content" class="form-control" rows="10" cols="35" placeholder="Your Review"></textarea>
        </div>
    </br>
            <button id="btn" type="submit" class="btn btn-default" >Add Review</button>
    </form>
        </br>
        <div id="successAlert" class="alert alert-success" role="alert" style="display:none"></div>
        <div id="errorAlert" class="alert alert-danger" role="alert" style="display:none"></div>


    
    <div>
        <h2 align="center">See below for reviews from other players!</h2>
        <br>
        <br>
    </div>    
    <div class="container"> <!-- GET reviews from MongoDB -->
		{% for d in data %}
			<div class="row" align="center">
				<div >
					<h3><b>Author: </b> {{ d['author'] }}</h3>
                    <h3><b>Game: </b> {{d['game']}}</h3>
					<h3><b>Title of Review: </b> {{ d['title'] }}</h3>
                    <h3><b>Date Created: </b>{{ d['dateCreated'] }}</h3>       
                    <p><b>Description: </b> {{ d['content'] }}</p>
                    </br>

				</div>
			</div>
		{% endfor %}
	</div>

    


</body>

<script>
    const firebaseConfig = {
    apiKey: "AIzaSyDQlIGXWIpmWdIsMAkN5rPwLcMn-qYj4gQ",
    authDomain: "advdev-mhg01.firebaseapp.com",
    projectId: "advdev-mhg01",
    storageBucket: "advdev-mhg01.appspot.com",
    messagingSenderId: "1066735832819",
    appId: "1:1066735832819:web:1a2701ad5db46808cc7186",
    measurementId: "G-LT8S234XKF"    
};
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    //firebase.analytics();
</script>

{% endblock %}
